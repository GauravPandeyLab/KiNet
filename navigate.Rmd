```{r}
library(visNetwork)
```
# Navigate the network

##  {.sidebar data-width="300"}

#### Controls

Pick a protein to display its interactions:

```{r, cache = FALSE}
selectInput(inputId='centerGene',choices=all_nodes$GeneName,label=NULL,selected = "STK11", multiple = F)
infoGene <- reactive({na.omit(c(input$selectGene,input$centerGene)[[1]])})
``` 
Use mouse controls to pan and zoom. \
Click on a node to display information. \
Double-click on a node to recenter graph. 


#### Selected node `r renderText(infoGene())`
```{r,cache=FALSE}
  renderUI({render_gene_info(infoGene())})
```


#### Legend {data-height="210"}
Node colors indicate kinase-group.

#### Export

```{r, cache=FALSE}
  actionButton("export","Export")
```

## Main Panel
### Kinase-substrate interactions of `r renderText(input$centerGene)`

```{r, cache=FALSE}
#renderText(dummy(input$centerGene))
#g <- get_one_degree('O00141')
g <- reactive(get_one_degree(input$centerGene))

#renderTable(g()$nodes)


visNetworkOutput('network')
output$network <- renderVisNetwork({
  visNetwork(nodes=g()$nodes,edges=g()$edges,physics=F) %>%
  visIgraphLayout()
   })
```


